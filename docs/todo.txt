ToDo:

X Bookmarklet
- Info Panel:
  X Link to source (remove frame)
  X Homepage link
  X Link to users
  X User comments
  - Design (see delicious page: http://delicious.com/url/6e4e9fc8547418f22ac89a5f7558e58b?show=notes_only, for inspiration)
- Home
  ! Number of pages
  - Number of views
  - Number of people (unique IP?)
  X IE instructions for creating bookmark
  X Recently popular pages
  - JSON api for most popular
  ! Tag cloud
- Info Header
	- Info bar horizontal/vertical option
	- Pull web page image from Sphere or Alexa?
	X Move comment bar to top - comments rev-chron below
- User pages
  - Claim your account
  X Most recent comments showing page titles, dates, tags
! Tags
	- Record tags scores for top 10 tags each URL
	- Recently popular tag pages (Today AND Year)
X Design and styling
X favicon
X favicon cached?  Can't see new one!
- Sharing options
  - Twitter
  - Friendfeed
  - Faves
  - MailTo
X Lock top pane on navigation? -> Don't know how
X JSON API
X JSON documentation - link from home
X domain redirection for http://g02.me (what is pageforest doing???)
X URL names not conflict with commands
X base64 encode ids
- In-page JSCRIPT bookmaklet
  - get metadata from page?  (description)
  - get micro-formats from page
- Performance
  - Shard counter(s) - pages, visitors
X Scoring by views, votes, and comments
- Monetization
  - AdSense
  - Sponsored links (AdManager)
  - PayPal donation (or GooglePayments)
X Unicode in title
X special case g02.me urls -> just redirect back to them - don't alias them
X Should child page links remove the upper frame (can I track changes?)
X Change date to DateTime
X Error page for non-existant URL - should be home page display with error message (Or custom file not found page! 404)
X 301 redirect www.g02.me to g02.me - use Django middleware?
- Get truncate templatetags working - I think I need an installed application - restructure files to
  an app folder, add to INSTALLED_APPS?
X Restructure files to Django standards - application dir, models.py, views.py...
X Figure out if there is a work-around for NYT pages that don't like to be shown inside a frameset.
- A/B Testing on home page and header?  Google Website optimizer
X Get trailing slash off of urls!
- Widget showing number of views and shares of the current url - click to share
  - Need JSON call for lookup by url (but don't increase share count)
- Use google safebrowsing api to warn about viewing of unsafe urls
X refactor - Trap all exceptions to universal error page - use django middleware
X delete comments enabled
X Username cookie (suggest for comments)
- Per-user cookie to open all URLs in info-mode
X Domain registration - map
X Analytics setup
X Page title customization
X Test deployment
- RSS feeds:
  - user activity
  - tags
  - home(popular)
  - user "favorites"
  - user+tag
- User account
  - Claim a username by signing in
  - Require login to comment using a claimed username
  - Protects your comments from being edited or deleted by others
  - Just hide non-anonymous comments - based on vote threshold
  - Ability to mark even claimed comments as "spam/bad"
    - two (independent) votes will hide that comment from all but the author of the comment.
  - Mark URL as Spam - info-mode only AND prominently flagged as SPAM
  - Mark URL as Adult - require login and affirmation of over 18 and OK to view adult content
  - Profile image
  - Friend feed and twitter account info
- Detect or mark problem domains as info-mode pages (frameset unfriendly).
- Should not update view count when comments are added
  - Only update when referer is from another domain?
X Add scroll bar when there are more comments than fit the head frame (or scale frame to fit)
X Unit tests
X Store key instead of model in timescore - don't have problem of ModelExists needing to be called - punt
X Admin routine to clean up scores for non-existant (delted) models
X don't allow links to g02.me pages
- prune empty commments
- don't recognize http: as a user name
X auto-hyperlink http addresses in comments
  - convert to g02me links automatically?
X comments ordered
- Use memcache to reduce abuse:
  X Throttle scoring for a given user, or IP address
  X Drop userid cookie on user
  X Throttling middleware
  X Use memcache to set rates
  X beware crawlers (don't throttle Google!)
  - Throttle single referer's?
  X Set userid cookie only at home and mapped pages - require for updating views, and other edit operations - punt
  X Limit one view per userid in stats
  X Replace userid with crypto-secure verifiable hash (not forge-able)
  - Record each user key in database
  - Enable expiration of user permissions
- Require dev key for jscript calls (registered user)
X About Page
X AppEngine Logo
X Blog - new features list
- G02.ME email accounts for admin email from address
X Don't count views by web crawlers
  X If no userid cookie - don't count it! (note that Frame will set cookie, and head will then count!)
X Page not found should be a 404 page
X add expires meta http header to fix google cache bug
X URL's with tailing "/" are not normalized to the non-trailing versions leading to duplicates
- Is it possible to implement info/Close box so that currently navigated page is retained?
  - See if window.location.href is accessible from parent frameset
X Fix comment counts
X Cache broken again?
X Lookup function (return url only if it already exists)
X Catch exceptions in AsyncSequence unit.js
X Display Dates in Comments in Head
X Dates display in local time - use relative age instead
- Use memcache to improve performance of popularity pages
  - info pages
    - statistics (write through view counter)
    - comments
  - home page (keep for 60 seconds)
  - tag pages (keep until url added to tag - age at 5 minutes)
X Decrement map TopTags when deleting a comment
X BUG: Empty tag showing up?
- Log referers for a url! - display click sources ala YouTube Statistics
- search (google Search widget)
X http://g02.me/tag/ - Python error dump
X http://tag/search engine - python dump
- AdSense
X urls.py - CatchAll
- Auto-tag domains (nyt.com, e.g.)
- Popularity views flags/icons
  ! Up/Down Arrows
  - "New" marker
  - Base on 2x rate on next higher halfLife scale
- Option to show /user/xxx sorted by popularity (not date of last comment) 
- Mobile
  - iPhone (bookmarklet)
  - Other
X JSON Date format looks funny with 1 digit dates, hours, etc.
! Replies page for users - show follow on comments on URL's user's have shared or commented on.
  - Need "unfollow" capability to stop getting notified
  - Plan:
    - Use the most recent 100 comments by a user as their "following" list.
    - Annotate Map with username (incl. anon) of most recent commenter (or comment seq #)
    - Highlight all comments where last commenter is NOT yourself (or comment seq # > than user's comment)
- Reduce duplication of URL's
  - www.* vs *
  - upper/lower case differences
  - use initially seen URL as canonical?
X Add analytics tracking code to frameset - missing referer on map
- Feature: Star the info page (faster than leaving a comment - but puts it in your comment queue)
  - Generate __fave comment
  - Icons in user activity for Shared, Commented, Favorite
- Feature: New activity indicator in /user/xxx
  - Annotate Map with username (incl. anon) of most recent commenter (or comment seq #)
  - When viewing Info for a Map I've already commented on, update the dateViewed in that comment
  - Highlight comments (yellow background?) that have recent COMMENTS later than my last dateViewed.
X Use a 64-character set that excludes homoglpyhs (Joe Hruska)
  - 1 i I l (el) | o O 0 | - _ | rn m | cl d | vv w
  - Safe characters to use are: 0-9, A-Z, a-z, -_  (original 64) PLUS: '()*.~  and MAYBE: <>|{}\^[]`
  - Readbility option: ~(base34) A-Z, 2-9 (e.g., http://g02.me/~BFD9 or even http://pagesaves.com/BFD9)
  - Global options: Replace characters 0O1Il with .~()*
  - NO: Autohyperlink in email disallows parens, brackets and period!  Down to *~^ (for 0, 1, l)
  - Change to base 57 (no 1iIloO0) -> and grandfather old base64 URL's for id's less than 256 (or some threshold)
X Darken the light blue color a shade for readability (Kenshi Arasaki) -> 4cc6ed to 45AFD1
X Add slash through the 0 in the G02.ME logo (Tony Wright)
- Add thousands sep for counts in analytics (info, home, tags, user)
- Hitting back button after leaving a comment (or deleting comment) should not resubmit!
  - Chrome behavior only?
  - 
- Put all site-specific code in settings.py (analytics account number, G02.ME name, etc.)
- Recursive attacks
	X Block links to other URL shoteners (tinyurl.com, www.tinyurl.com, bit.ly, is.gd, etc.)
	- Move from GET to PUT
- Paging control for user activity pages
- Require a request key for comments and all JSON requests
- Disallow + is username?
X Add random bits to userAuth token!  (1 minute resolution only now)
- For soft authorization on Share - don't add to Score!
X Add title attribute to links to display where they will go in a tooltip (home, user, tag pages)
! Reorganize login permissions to treat it globally rather than ad-hoc per function
  - User permission levels:
    - Blocked - by IP, for abuse
    - Read-only - for search engines (detect by IP and/or user agent?)
    - Throttle anonymous - per IP
      - view counts 1/IP
      - share counts 1/IP
      - no commenting or deleting
    - Authorized user - per cookie
      - Throttle writes to 10/60
      - Detect flag
      - Delete anonymous comments
    - Registered user 
    - Admin user
- Centralize error messages and codes in one file
- Change comment and share to POST operations only
  - Update API page
- Integrate info page and frameset onto one page (IFRAME)
  - One page for Google to crawl
  - All links count to get info/content
  - No more double counting analytics via /info
  - Resizing/scrolling of info box
- Link to My Links on home page for username cookie'd users
- Disallow 'http' as a username (mistake in posting links)
- Import bookmarks/faves
X Elapsed time of response - home, tag, user pages
X Share limit by user (same as view limit)
  - Sharing will then preclude a view count - good!
- Hungarian for python doc
- Viewing rates for pages (tag and home) (monthly page views extrapolation)
  - Calc view rate with 24 hour half life
  - Return 30x the daily view rate
  - Write-through memcache (write when update rate drops below 1/minute)
- Number of (and List of) "current" users
  - Sliding window of unique user counts (by minute)
  - show users in last 15 minutes as "current" (merge all windows)
  - update calc once each minute - memcache
- Unit test failing on empty database